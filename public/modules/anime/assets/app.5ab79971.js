let o={autoPlay:!1,autoNext:!0,autoSkip:!1};const k=function(n,l){n=decodeURIComponent(window.atob(n));for(var c="",r=0;r<n.length;r++){var a=n[r];if(a.match(/[a-z]/i)){var t=a.charCodeAt(0);a.match(/[A-Z]/)?(t+=l,t>90?t=65+(t-91):t<65&&(t=91-(65-t))):(t+=l,t>122?t=97+(t-123):t<97&&(t=123-(97-t))),c+=String.fromCharCode(t)}else c+=a}return c},v=(n,l=!0,c="text/javascript")=>new Promise((r,a)=>{try{const t=document.createElement("script");t.type=c,t.async=l,t.src=n,t.addEventListener("load",s=>{r({status:!0})}),t.addEventListener("error",s=>{a({status:!1,message:"Failed to load the script \uFF04{FILE_URL}"})}),document.body.appendChild(t)}catch(t){a(t)}}),g={init:function(){$(".watchpage").length&&g.initWatchPage(),$(document).ready(function(){$(".tip").hover(function(){$(this).tooltip("show")}),$(document).on("click",".gotop",function(){return $("html, body").animate({scrollTop:0},"slow"),!1}),$(document).on("click","#menu-toggler",function(){$("#menu").slideToggle({duration:200})})}),$("#search").click(function(){$(this).toggleClass("show"),$(document).mouseup(function(n){console.log(n.target),(!$("form").is(n.target)||$("form").has(n.target).length===0)&&$("#search").removeClass("show")})})},initAnime:function(){},initWatchPage:function(){let n=$(".watchpage").data("anime"),l=$(".watchpage").data("episode");const c=function(e){$(".ep-range").hide(),$(".filter.range button").html(e),$(`.ep-range[data-range="${e}"]`).show()},r=function(e,i){o[e]=!o[e],a(o[e],i),localStorage.setItem("watchConfig",JSON.stringify(o))},a=function(e,i){e?i.html(i.data("on")):i.html(i.data("off"))};typeof localStorage<"u"&&localStorage.getItem("watchConfig")!==null&&(o=localStorage.getItem("watchConfig"),o=JSON.parse(o));let t=$(".controls"),s=$(".player-wrapper"),f=t.find(".auto-play"),d=t.find(".auto-next"),p=t.find(".auto-skip"),h=t.find(".light"),u=$('<div style="width: 100%; height: 100%; position: fixed; left: 0px; top: 0px; z-index: 22; background: rgb(0, 0, 0); opacity: 0.95; display: none;"></div>');if($("body").append(u),h.on("click",function(){s.css("z-index",23),u.fadeToggle()}),u.on("click",function(){u.fadeToggle()}),{autoPlay:function(){a(o.autoPlay,f)},autoNext:function(){a(o.autoNext,d)},autoSkip:function(){a(o.autoSkip,p)},bookmark:function(){let e=t.find('.bookmark [data-toggle="dropdown"]');e.html(e.data("add")),e.on("click",function(i){i.preventDefault()})},init:function(){for(let e in this)e!=="init"&&this[e]()}}.init(),f.on("click",function(){r("autoPlay",f)}),d.on("click",function(){r("autoNext",d)}),p.on("click",function(){r("autoSkip",p)}),typeof n<"u"&&n!==null){($('[data-dub="1"]').length<1||$('[data-sub="1"]').length<1)&&$(".filter.type").hide();let e=l?$(`[data-episode-id="${l.id}"] .ep-link`):$("#episodes").find(".ep-link").first();e.click(),e.addClass("active"),l=l||e.data("episode");let i=$(e).parents(".ep-range").data("range");c(i)}$(document).ready(function(){$(document).on("keyup",".filter input",function(){let e=$(this).val().toLowerCase();$(".ep-link").removeClass("highlight"),$("[data-episode-num='"+e+"']").find(".ep-link").addClass("highlight")}),$(document).on("click",".filter.range .dropdown-item",function(){let e=$(this).data("value");console.log(e),c(e)}),$(document).on("click",".toggler",function(){$(this).parents(".shorting").toggleClass("expand"),$(this).html($(this).html()=="[more]"?"[less]":"[more]")}),$(document).on("click",".switch",function(){$(this).find(".active").removeClass("active");let e=$(this).data("switch"),i=$(`[data-switch="${e}"]`);i.html(i.data($lang))}),$(document).on("click",".servers a",function(e){e.preventDefault();let i=$(this),m=i.data("url"),y=i.data("type");$(".servers a").removeClass("active"),i.addClass("active"),g.initPlayer(m,y)}),$(document).on("click",".play",function(e){$(".servers a").first().trigger("click")}),o.autoPlay&&$(".play").click()})},initPlayer:async function(n,l="mp4"){n=k(n,21);const c=document.getElementById("player");var r=$("backdrop").css("background-image");c.innerHTML="";const a={file:n,image:r,width:"100%",height:"100%",autostart:!0,mute:!0,controls:!0};typeof jwplayer>"u"&&(await v("https://ssl.p.jwpcdn.com/player/v/8.1.3/jwplayer.js"),jwplayer.key="W7zSm81+mmIsg7F+fyHRKhF3ggLkTqtGMhvI92kbqf/ysE99");var t=jwplayer(c).setup(a);t.on("ready",function(){o.autoPlay||t.play()}),t.onComplete(function(){if(o.autoNext){let s=$(".ep-link.active").parents(".ep-range").next().find(".ep-link").first();s.length>0&&s.click()}})}};g.init();
