let i={autoPlay:!1,autoNext:!0,autoSkip:!1};const p={init:function(){$(".watchpage").length&&p.initWatchPage(),$(document).ready(function(){$(".tip").hover(function(){$(this).tooltip("show")}),$(".gotop").click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1}),$(".toggler").on("click",function(){$(this).parents(".shorting").toggleClass("expand"),$(this).html($(this).html()=="[more]"?"[less]":"[more]")}),$(".switch").on("click",function(){$(this).find(".active").removeClass("active");let o=$(this).data("switch"),n=$(`[data-switch="${o}"]`);n.html(n.data($lang))})})},initAnime:function(){},initWatchPage:function(){let o=$(".watchpage").data("anime"),n=$(".watchpage").data("episode");const r=function(t){$(".ep-range").hide(),$(".filter.range button").html(t),$(`.ep-range[data-range="${t}"]`).show()},d=function(t,e){i[t]=!i[t],l(i[t],e),localStorage.setItem("watchConfig",JSON.stringify(i))},l=function(t,e){t?e.html(e.data("on")):e.html(e.data("off"))};typeof localStorage<"u"&&localStorage.getItem("watchConfig")!==null&&(i=localStorage.getItem("watchConfig"),i=JSON.parse(i));let a=$(".controls"),g=$(".player-wrapper"),f=a.find(".auto-play"),s=a.find(".auto-next"),u=a.find(".auto-skip"),h=a.find(".light"),c=$('<div style="width: 100%; height: 100%; position: fixed; left: 0px; top: 0px; z-index: 22; background: rgb(0, 0, 0); opacity: 0.95; display: none;"></div>');if($("body").append(c),h.on("click",function(){g.css("z-index",23),c.fadeToggle()}),c.on("click",function(){c.fadeToggle()}),i.autoPlay&&$(".play").click(),{autoPlay:function(){l(i.autoPlay,f)},autoNext:function(){l(i.autoNext,s)},autoSkip:function(){l(i.autoSkip,u)},bookmark:function(){let t=a.find('.bookmark [data-toggle="dropdown"]');t.html(t.data("add")),t.on("click",function(e){e.preventDefault()})},init:function(){for(let t in this)t!=="init"&&this[t]()}}.init(),f.on("click",function(){d("autoPlay",f)}),s.on("click",function(){d("autoNext",s)}),u.on("click",function(){d("autoSkip",u)}),typeof o<"u"&&o!==null){($('[data-dub="1"]').length<1||$('[data-sub="1"]').length<1)&&$(".filter.type").hide();let t=n?$(`[data-episode-id="${n.id}"] .ep-link`):$("#episodes").find(".ep-link").first();t.click(),t.addClass("active"),n=n||t.data("episode");let e=$(t).parents(".ep-range").data("range");r(e)}$(document).on("keyup",".filter input",function(){let t=$(this).val().toLowerCase();$(".ep-link").removeClass("highlight"),$("[data-episode-num='"+t+"']").find(".ep-link").addClass("highlight")}),$(document).on("click",".filter.range .dropdown-item",function(){let t=$(this).data("value");console.log(t),r(t)})}};p.init();
